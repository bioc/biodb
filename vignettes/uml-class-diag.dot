digraph biodb_uml_class_diag {

	edge [dir = back, arrowtail = none]

	BiodbObject [shape = box, group = BiodbObject]

	subgraph BiodbObjectChildrenPoints {
		rank = same
		BiodbChildObjectMiddlePoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbObject]
		ChildObjectPoint [shape = point, fixedsize = true, height = 0, width = 0, group = ChildObject]
		BiodbPoint [shape = point, fixedsize = true, height = 0, width = 0, group = Biodb]
	}

	subgraph BiodbObjectChildren {
		rank = same
		ChildObject [shape = box, group = ChildObject]
		Biodb [shape = box, group = Biodb]
	}

	BiodbObject -> BiodbChildObjectMiddlePoint [arrowtail = empty]
	BiodbPoint -> BiodbChildObjectMiddlePoint
	BiodbChildObjectMiddlePoint -> ChildObjectPoint
	BiodbPoint -> Biodb
	ChildObjectPoint -> ChildObject

	subgraph ChildObjectChildrenPoints {
		rank = same
//		ChildObjectChildrenMiddlePoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbObject]
		BiodbCacheChildPoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbCache]
		BiodbConfigChildPoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbConfig]
		BiodbDbsInfoChildPoint [shape = point, fixedsize = true, height = 0, width = 0, group = ChildObject]
		BiodbEntryFieldsChildPoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbEntryFields]
		BiodbFactoryChildPoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbFactory]
	}

	subgraph ChildObjectChildren {
		rank = same
		BiodbCache [shape = box, group = BiodbCache]
		BiodbConfig [shape = box, group = BiodbConfig]
		BiodbDbsInfo [shape = box, group = ChildObject]
		BiodbEntryFields [shape = box, group = BiodbEntryFields]
		BiodbFactory [shape = box, group = BiodbFactory]
	}

	ChildObject -> BiodbDbsInfoChildPoint [arrowtail = empty]
	BiodbCacheChildPoint -> BiodbConfigChildPoint
	BiodbConfigChildPoint -> BiodbDbsInfoChildPoint
	BiodbDbsInfoChildPoint -> BiodbEntryFieldsChildPoint
	BiodbEntryFieldsChildPoint -> BiodbFactoryChildPoint
	BiodbCacheChildPoint -> BiodbCache
	BiodbConfigChildPoint -> BiodbConfig
	BiodbDbsInfoChildPoint -> BiodbDbsInfo
	BiodbEntryFieldsChildPoint -> BiodbEntryFields
	BiodbFactoryChildPoint -> BiodbFactory

	// Biodb associations

	subgraph BiodbAssoc {
		rank = same
		BiodbAssocMiddlePoint [shape = point, fixedsize = true, height = 0, width = 0, group = Biodb]
		BiodbCacheAssocPoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbCache]
		BiodbConfigAssocPoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbConfig]
		BiodbDbsInfoAssocPoint [shape = point, fixedsize = true, height = 0, width = 0, group = ChildObject]
		BiodbEntryFieldsAssocPoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbEntryFields]
		BiodbFactoryAssocPoint [shape = point, fixedsize = true, height = 0, width = 0, group = BiodbFactory]
	}

	 {edge[style=invis]
		     {BiodbCache BiodbConfig BiodbDbsInfo BiodbEntryFields BiodbFactory} -> {BiodbConfigAssocPoint BiodbCacheAssocPoint BiodbDbsInfoAssocPoint BiodbEntryFieldsAssocPoint BiodbFactoryAssocPoint}
		       }

	Biodb -> BiodbAssocMiddlePoint [arrowtail = diamond, taillabel = "parent, 1 "]
	BiodbCache -> BiodbCacheAssocPoint [taillabel = "1"]
	BiodbConfig -> BiodbConfigAssocPoint [taillabel = "1"]
	BiodbDbsInfo -> BiodbDbsInfoAssocPoint [taillabel = "1"]
	BiodbEntryFields -> BiodbEntryFieldsAssocPoint [taillabel = "1"]
	BiodbFactory -> BiodbFactoryAssocPoint [taillabel = "1"]

	BiodbAssocMiddlePoint -> BiodbCacheAssocPoint
	BiodbCacheAssocPoint -> BiodbConfigAssocPoint
	BiodbConfigAssocPoint -> BiodbDbsInfoAssocPoint
	BiodbDbsInfoAssocPoint -> BiodbEntryFieldsAssocPoint
	BiodbEntryFieldsAssocPoint -> BiodbFactoryAssocPoint
}
