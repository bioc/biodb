<project name="biodb" default="all">

	<dirname property="this.dir" file="${ant.file.biodb}"/>

	<!-- ALL -->
	<target name="all">
		<ant dir="src" inheritAll="false"/>
	</target>

	<!-- DOC -->
	<target name="doc">
		<exec executable="${this.dir}/generate-doc" failonerror="true"/>
	</target>

	<!-- TEST -->
	<target name="test" depends="all">
		<exec executable="${this.dir}/check-pkg" failonerror="true">
			<redirector>
				<outputfilterchain>
					<tokenfilter>
						<replaceregex pattern="from " replace="from R/"/>
					</tokenfilter>
				</outputfilterchain>
			</redirector>
		</exec>
	</target>

	<!-- CLEAN -->
	<target name="clean">
		<ant dir="test" target="clean" inheritAll="false"/>
		<delete dir="man"/>
		<delete dir="." includes="NAMESPACE"/>
	</target>

</project>
